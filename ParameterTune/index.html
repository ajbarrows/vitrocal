<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ajbarrows.github.io/vitrocal/ParameterTune/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Example Analysis - VitroCal</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../apidocs.css" rel="stylesheet" />
        <link href="../css/ansi-colours.css" rel="stylesheet" />
        <link href="../css/jupyter-cells.css" rel="stylesheet" />
        <link href="../css/pandas-dataframe.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Example Analysis";
        var mkdocs_page_input_path = "ParameterTune.ipynb";
        var mkdocs_page_url = "/vitrocal/ParameterTune/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> VitroCal
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Example Analysis</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#load-example-data-file">Load example data file</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#preprocess">Preprocess</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Plotting/">Example Plotting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../api/">API Reference</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">VitroCal</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Example Analysis</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/mpmbq2/vitrocal/edit/master/docs/ParameterTune.ipynb">Edit on mpmbq2/vitrocal</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
(function() {
  function addWidgetsRenderer() {
    var requireJsScript = document.createElement('script');
    requireJsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js';

    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var jupyterWidgetsScript = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    jupyterWidgetsScript.src = widgetRendererSrc;

    document.body.appendChild(requireJsScript);
    document.body.appendChild(jupyterWidgetsScript);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://mybinder.org/v2/gh/mpmbq2/vitrocal/master?urlpath=lab%2Ftree%2Fdocs%2FParameterTune.ipynb"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="tune-vitrocal-parameters">Tune Vitrocal Parameters</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">from</span> <span class="nn">vitrocal.datasets</span> <span class="kn">import</span> <span class="n">catalog</span><span class="p">,</span> <span class="n">ExcelDataset</span>
<span class="kn">from</span> <span class="nn">vitrocal.preprocessors</span> <span class="kn">import</span> <span class="n">StandardPreprocessor</span>
<span class="kn">from</span> <span class="nn">vitrocal.detectors</span> <span class="kn">import</span> <span class="n">DerivativeDetector</span><span class="p">,</span> <span class="n">StandardExtractor</span>
<span class="kn">from</span> <span class="nn">vitrocal.analyzers</span> <span class="kn">import</span> <span class="n">StandardAnalyzer</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pull out functions from <code>AnalyzeSingle.py</code> and work with them interactively</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="load-example-data-file">Load example data file</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="n">fpath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">,</span> <span class="n">load_args</span><span class="p">:</span> <span class="nb">dict</span><span class="o">=</span><span class="p">{})</span> <span class="o">-&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load single neuron output file.</span>

<span class="sd">    Args:</span>
<span class="sd">        fpath (str | os.PathLike): Path to single Excel spreadsheet.</span>
<span class="sd">        load_args (dict, optional): Passed to `pd.read_excel()`. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Dataframe</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
    <span class="n">dataset</span> <span class="o">=</span> <span class="n">ExcelDataset</span><span class="o">.</span><span class="n">ExcelDataset</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">load_args</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dataset</span><span class="o">.</span><span class="n">load</span><span class="p">(),</span> <span class="n">fname</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">df</span><span class="p">,</span> <span class="n">fname</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s2">&quot;./data/01_raw/E Green.xlsx&quot;</span><span class="p">)</span>
<span class="c1"># df, fname = load_data(&quot;../data/01_raw/E Green.xlsx&quot;)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">1.0</th>
<th style="text-align:right">22.64</th>
<th style="text-align:right">14.464</th>
<th style="text-align:right">81.846</th>
<th style="text-align:right">22.303</th>
<th style="text-align:right">5.206</th>
<th style="text-align:right">13.008</th>
<th style="text-align:right">20.742</th>
<th style="text-align:right">14.349</th>
<th style="text-align:right">17.126</th>
<th style="text-align:right">36.607</th>
<th style="text-align:right">41.751</th>
<th style="text-align:right">17.911</th>
<th style="text-align:right">9.868</th>
<th style="text-align:right">20.88</th>
<th style="text-align:right">10.595</th>
<th style="text-align:right">19.766</th>
<th style="text-align:right">19.937</th>
<th style="text-align:right">20.41</th>
<th style="text-align:right">15.472</th>
<th style="text-align:right">4.139</th>
<th style="text-align:right">12.641</th>
<th style="text-align:right">3.737</th>
<th style="text-align:right">23.991</th>
<th style="text-align:right">16.657</th>
<th style="text-align:right">56.222</th>
<th style="text-align:right">47.472</th>
<th style="text-align:right">23.007</th>
<th style="text-align:right">14.802</th>
<th style="text-align:right">7.97</th>
<th style="text-align:right">20.108</th>
<th style="text-align:right">24.37</th>
<th style="text-align:right">33.058</th>
<th style="text-align:right">24.077</th>
<th style="text-align:right">31.142</th>
<th style="text-align:right">48.045</th>
<th style="text-align:right">4.048</th>
<th style="text-align:right">13.965</th>
<th style="text-align:right">4.224</th>
<th style="text-align:right">12.127</th>
<th style="text-align:right">21.117</th>
<th style="text-align:right">25.81</th>
<th style="text-align:right">33.489</th>
<th style="text-align:right">47.669</th>
<th style="text-align:right">43.951</th>
<th style="text-align:right">14.707</th>
<th style="text-align:right">34.045</th>
<th style="text-align:right">29.163</th>
<th style="text-align:right">15.43</th>
<th style="text-align:right">25.335</th>
<th style="text-align:right">37.077</th>
<th style="text-align:right">27.778</th>
<th style="text-align:right">21.374</th>
<th style="text-align:right">18.34</th>
<th style="text-align:right">10.955</th>
<th style="text-align:right">26.541</th>
<th style="text-align:right">14.188</th>
<th style="text-align:right">5.778</th>
<th style="text-align:right">18.538</th>
<th style="text-align:right">10.539</th>
<th style="text-align:right">31.391</th>
<th style="text-align:right">23.852</th>
<th style="text-align:right">5.949</th>
<th style="text-align:right">2.388</th>
<th style="text-align:right">6.994</th>
<th style="text-align:right">15.802</th>
<th style="text-align:right">21.772</th>
<th style="text-align:right">6.588</th>
<th style="text-align:right">2.145</th>
<th style="text-align:right">22.27</th>
<th style="text-align:right">13.527</th>
<th style="text-align:right">11.289</th>
<th style="text-align:right">44.445</th>
<th style="text-align:right">81.355</th>
<th style="text-align:right">14.337</th>
<th style="text-align:right">3.839</th>
<th style="text-align:right">6.948</th>
<th style="text-align:right">10.796</th>
<th style="text-align:right">8.582</th>
<th style="text-align:right">21.717</th>
<th style="text-align:right">10.199</th>
<th style="text-align:right">15.498</th>
<th style="text-align:right">10.422</th>
<th style="text-align:right">16.775</th>
<th style="text-align:right">5.592</th>
<th style="text-align:right">26.333</th>
<th style="text-align:right">6.552</th>
<th style="text-align:right">1.031</th>
<th style="text-align:right">2.721</th>
<th style="text-align:right">3.963</th>
<th style="text-align:right">2.223</th>
<th style="text-align:right">5.329</th>
<th style="text-align:right">6.514</th>
<th style="text-align:right">6.255</th>
<th style="text-align:right">4.412</th>
<th style="text-align:right">9.865</th>
<th style="text-align:right">13.243</th>
<th style="text-align:right">11.594</th>
<th style="text-align:right">2.955</th>
<th style="text-align:right">5.279</th>
<th style="text-align:right">11.83</th>
<th style="text-align:right">11.454</th>
<th style="text-align:right">1.953</th>
<th style="text-align:right">39.554</th>
<th style="text-align:right">10.668</th>
<th style="text-align:right">8.264</th>
<th style="text-align:right">3.06</th>
<th style="text-align:right">2.67</th>
<th style="text-align:right">7.782</th>
<th style="text-align:right">6.912</th>
<th style="text-align:right">4.135</th>
<th style="text-align:right">3.493</th>
<th style="text-align:right">2.759</th>
<th style="text-align:right">17.813</th>
<th style="text-align:right">12.834</th>
<th style="text-align:right">5.645</th>
<th style="text-align:right">18.946</th>
<th style="text-align:right">4.36</th>
<th style="text-align:right">1.499</th>
<th style="text-align:right">8.511</th>
<th style="text-align:right">5.149</th>
<th style="text-align:right">4.894</th>
<th style="text-align:right">11.065</th>
<th style="text-align:right">11.329</th>
<th style="text-align:right">3.217</th>
<th style="text-align:right">0.882</th>
<th style="text-align:right">5.814</th>
<th style="text-align:right">3.402</th>
<th style="text-align:right">9.316</th>
<th style="text-align:right">1.932</th>
<th style="text-align:right">5.11</th>
<th style="text-align:right">3.497</th>
<th style="text-align:right">6.546</th>
<th style="text-align:right">9.461</th>
<th style="text-align:right">0.725</th>
<th style="text-align:right">1.468</th>
<th style="text-align:right">1.53</th>
<th style="text-align:right">4.134</th>
<th style="text-align:right">11.567</th>
<th style="text-align:right">4.974</th>
<th style="text-align:right">14.442</th>
<th style="text-align:right">11.604</th>
<th style="text-align:right">8.135</th>
<th style="text-align:right">4.038</th>
<th style="text-align:right">19.026</th>
<th style="text-align:right">6.572</th>
<th style="text-align:right">17.669</th>
<th style="text-align:right">7.024</th>
<th style="text-align:right">2.347</th>
<th style="text-align:right">23.887</th>
<th style="text-align:right">42.383</th>
<th style="text-align:right">4.802</th>
<th style="text-align:right">7.62</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0</td>
<td style="text-align:right">2</td>
<td style="text-align:right">21.593</td>
<td style="text-align:right">13.584</td>
<td style="text-align:right">81.234</td>
<td style="text-align:right">19.634</td>
<td style="text-align:right">4.756</td>
<td style="text-align:right">10.206</td>
<td style="text-align:right">17.576</td>
<td style="text-align:right">14.729</td>
<td style="text-align:right">16.779</td>
<td style="text-align:right">35.217</td>
<td style="text-align:right">41.618</td>
<td style="text-align:right">19.212</td>
<td style="text-align:right">8.937</td>
<td style="text-align:right">20.427</td>
<td style="text-align:right">12.039</td>
<td style="text-align:right">19.362</td>
<td style="text-align:right">16.424</td>
<td style="text-align:right">17.91</td>
<td style="text-align:right">14.662</td>
<td style="text-align:right">3.103</td>
<td style="text-align:right">13.366</td>
<td style="text-align:right">3.516</td>
<td style="text-align:right">19.601</td>
<td style="text-align:right">14.624</td>
<td style="text-align:right">53.055</td>
<td style="text-align:right">44.007</td>
<td style="text-align:right">23.285</td>
<td style="text-align:right">8.433</td>
<td style="text-align:right">7.173</td>
<td style="text-align:right">18.944</td>
<td style="text-align:right">24.039</td>
<td style="text-align:right">29.637</td>
<td style="text-align:right">17.613</td>
<td style="text-align:right">26.709</td>
<td style="text-align:right">46.553</td>
<td style="text-align:right">3.52</td>
<td style="text-align:right">12.971</td>
<td style="text-align:right">4.228</td>
<td style="text-align:right">12.194</td>
<td style="text-align:right">21.007</td>
<td style="text-align:right">23.588</td>
<td style="text-align:right">27.889</td>
<td style="text-align:right">38.282</td>
<td style="text-align:right">28.993</td>
<td style="text-align:right">12.29</td>
<td style="text-align:right">23.852</td>
<td style="text-align:right">26.035</td>
<td style="text-align:right">14.566</td>
<td style="text-align:right">15.605</td>
<td style="text-align:right">34.464</td>
<td style="text-align:right">26.539</td>
<td style="text-align:right">20.894</td>
<td style="text-align:right">20.494</td>
<td style="text-align:right">18.519</td>
<td style="text-align:right">26.556</td>
<td style="text-align:right">12.436</td>
<td style="text-align:right">6.443</td>
<td style="text-align:right">19.505</td>
<td style="text-align:right">9.862</td>
<td style="text-align:right">29.412</td>
<td style="text-align:right">23.273</td>
<td style="text-align:right">5.595</td>
<td style="text-align:right">2.979</td>
<td style="text-align:right">8.025</td>
<td style="text-align:right">14.302</td>
<td style="text-align:right">21.887</td>
<td style="text-align:right">5.397</td>
<td style="text-align:right">1.015</td>
<td style="text-align:right">19.727</td>
<td style="text-align:right">13.343</td>
<td style="text-align:right">12.477</td>
<td style="text-align:right">43.971</td>
<td style="text-align:right">80.403</td>
<td style="text-align:right">14.026</td>
<td style="text-align:right">2.846</td>
<td style="text-align:right">5.977</td>
<td style="text-align:right">11.718</td>
<td style="text-align:right">9.285</td>
<td style="text-align:right">20.809</td>
<td style="text-align:right">10.715</td>
<td style="text-align:right">14.934</td>
<td style="text-align:right">8.254</td>
<td style="text-align:right">14.173</td>
<td style="text-align:right">5.373</td>
<td style="text-align:right">22.842</td>
<td style="text-align:right">7.003</td>
<td style="text-align:right">0.878</td>
<td style="text-align:right">2.641</td>
<td style="text-align:right">3.563</td>
<td style="text-align:right">1.921</td>
<td style="text-align:right">5.611</td>
<td style="text-align:right">4.859</td>
<td style="text-align:right">4.924</td>
<td style="text-align:right">3.632</td>
<td style="text-align:right">9.196</td>
<td style="text-align:right">13.053</td>
<td style="text-align:right">10.581</td>
<td style="text-align:right">2.622</td>
<td style="text-align:right">5.616</td>
<td style="text-align:right">13.149</td>
<td style="text-align:right">12.519</td>
<td style="text-align:right">2.3</td>
<td style="text-align:right">40.23</td>
<td style="text-align:right">10.584</td>
<td style="text-align:right">8.951</td>
<td style="text-align:right">2.233</td>
<td style="text-align:right">2.568</td>
<td style="text-align:right">7.167</td>
<td style="text-align:right">6.485</td>
<td style="text-align:right">3.964</td>
<td style="text-align:right">2.842</td>
<td style="text-align:right">2.549</td>
<td style="text-align:right">12.622</td>
<td style="text-align:right">12.272</td>
<td style="text-align:right">5.446</td>
<td style="text-align:right">15.042</td>
<td style="text-align:right">3.629</td>
<td style="text-align:right">0.963</td>
<td style="text-align:right">5.473</td>
<td style="text-align:right">4.442</td>
<td style="text-align:right">3.624</td>
<td style="text-align:right">9.139</td>
<td style="text-align:right">11.867</td>
<td style="text-align:right">2.705</td>
<td style="text-align:right">0.961</td>
<td style="text-align:right">5.715</td>
<td style="text-align:right">2.773</td>
<td style="text-align:right">8.309</td>
<td style="text-align:right">1.829</td>
<td style="text-align:right">4.57</td>
<td style="text-align:right">3.199</td>
<td style="text-align:right">5.413</td>
<td style="text-align:right">7.278</td>
<td style="text-align:right">0.903</td>
<td style="text-align:right">1.153</td>
<td style="text-align:right">1.108</td>
<td style="text-align:right">4.565</td>
<td style="text-align:right">11.981</td>
<td style="text-align:right">4.357</td>
<td style="text-align:right">12.693</td>
<td style="text-align:right">12.665</td>
<td style="text-align:right">8.902</td>
<td style="text-align:right">3.39</td>
<td style="text-align:right">19.026</td>
<td style="text-align:right">9.156</td>
<td style="text-align:right">16.792</td>
<td style="text-align:right">7.568</td>
<td style="text-align:right">2.142</td>
<td style="text-align:right">25.34</td>
<td style="text-align:right">41.388</td>
<td style="text-align:right">4.14</td>
<td style="text-align:right">7.929</td>
</tr>
<tr>
<td style="text-align:right">1</td>
<td style="text-align:right">3</td>
<td style="text-align:right">20.348</td>
<td style="text-align:right">13.595</td>
<td style="text-align:right">81.041</td>
<td style="text-align:right">22.261</td>
<td style="text-align:right">5.335</td>
<td style="text-align:right">9.868</td>
<td style="text-align:right">13.821</td>
<td style="text-align:right">14.625</td>
<td style="text-align:right">16.988</td>
<td style="text-align:right">35.025</td>
<td style="text-align:right">41.858</td>
<td style="text-align:right">19.988</td>
<td style="text-align:right">8.576</td>
<td style="text-align:right">19.932</td>
<td style="text-align:right">12.599</td>
<td style="text-align:right">18.134</td>
<td style="text-align:right">15.993</td>
<td style="text-align:right">18.343</td>
<td style="text-align:right">14.732</td>
<td style="text-align:right">3.459</td>
<td style="text-align:right">12.605</td>
<td style="text-align:right">3.336</td>
<td style="text-align:right">21.192</td>
<td style="text-align:right">13.157</td>
<td style="text-align:right">51.561</td>
<td style="text-align:right">42.05</td>
<td style="text-align:right">25.224</td>
<td style="text-align:right">13.202</td>
<td style="text-align:right">6.371</td>
<td style="text-align:right">18.256</td>
<td style="text-align:right">23.377</td>
<td style="text-align:right">29.213</td>
<td style="text-align:right">17.994</td>
<td style="text-align:right">28.792</td>
<td style="text-align:right">47.982</td>
<td style="text-align:right">3.696</td>
<td style="text-align:right">12.459</td>
<td style="text-align:right">3.853</td>
<td style="text-align:right">12.135</td>
<td style="text-align:right">20.147</td>
<td style="text-align:right">28.378</td>
<td style="text-align:right">26.521</td>
<td style="text-align:right">36.913</td>
<td style="text-align:right">28.516</td>
<td style="text-align:right">11.704</td>
<td style="text-align:right">25.329</td>
<td style="text-align:right">26.761</td>
<td style="text-align:right">14.345</td>
<td style="text-align:right">14.652</td>
<td style="text-align:right">33.582</td>
<td style="text-align:right">25.009</td>
<td style="text-align:right">21.346</td>
<td style="text-align:right">22.997</td>
<td style="text-align:right">31.845</td>
<td style="text-align:right">26.839</td>
<td style="text-align:right">12.672</td>
<td style="text-align:right">6.858</td>
<td style="text-align:right">18.005</td>
<td style="text-align:right">9.072</td>
<td style="text-align:right">30.19</td>
<td style="text-align:right">23.627</td>
<td style="text-align:right">5.674</td>
<td style="text-align:right">3.332</td>
<td style="text-align:right">8.278</td>
<td style="text-align:right">17.891</td>
<td style="text-align:right">20.573</td>
<td style="text-align:right">5.641</td>
<td style="text-align:right">1.513</td>
<td style="text-align:right">21.549</td>
<td style="text-align:right">13.617</td>
<td style="text-align:right">11.852</td>
<td style="text-align:right">43.506</td>
<td style="text-align:right">81.232</td>
<td style="text-align:right">14.604</td>
<td style="text-align:right">3.07</td>
<td style="text-align:right">5.809</td>
<td style="text-align:right">11.423</td>
<td style="text-align:right">9.95</td>
<td style="text-align:right">21.805</td>
<td style="text-align:right">11.494</td>
<td style="text-align:right">15.252</td>
<td style="text-align:right">7.57</td>
<td style="text-align:right">13.447</td>
<td style="text-align:right">5.04</td>
<td style="text-align:right">21.396</td>
<td style="text-align:right">6.222</td>
<td style="text-align:right">0.932</td>
<td style="text-align:right">2.949</td>
<td style="text-align:right">3.08</td>
<td style="text-align:right">2.606</td>
<td style="text-align:right">5.543</td>
<td style="text-align:right">4.813</td>
<td style="text-align:right">4.904</td>
<td style="text-align:right">4.357</td>
<td style="text-align:right">9.404</td>
<td style="text-align:right">12.882</td>
<td style="text-align:right">11.11</td>
<td style="text-align:right">2.519</td>
<td style="text-align:right">8.492</td>
<td style="text-align:right">8.275</td>
<td style="text-align:right">9.134</td>
<td style="text-align:right">2.051</td>
<td style="text-align:right">40.337</td>
<td style="text-align:right">10.048</td>
<td style="text-align:right">12.379</td>
<td style="text-align:right">2.648</td>
<td style="text-align:right">2.789</td>
<td style="text-align:right">7.503</td>
<td style="text-align:right">6.553</td>
<td style="text-align:right">3.921</td>
<td style="text-align:right">2.906</td>
<td style="text-align:right">2.929</td>
<td style="text-align:right">16.767</td>
<td style="text-align:right">11.948</td>
<td style="text-align:right">4.964</td>
<td style="text-align:right">14.949</td>
<td style="text-align:right">3.739</td>
<td style="text-align:right">0.771</td>
<td style="text-align:right">5.646</td>
<td style="text-align:right">3.79</td>
<td style="text-align:right">3.478</td>
<td style="text-align:right">9.129</td>
<td style="text-align:right">10.963</td>
<td style="text-align:right">2.029</td>
<td style="text-align:right">0.931</td>
<td style="text-align:right">5.665</td>
<td style="text-align:right">2.127</td>
<td style="text-align:right">10.181</td>
<td style="text-align:right">1.671</td>
<td style="text-align:right">4.47</td>
<td style="text-align:right">3.242</td>
<td style="text-align:right">5.476</td>
<td style="text-align:right">7.972</td>
<td style="text-align:right">0.841</td>
<td style="text-align:right">1.459</td>
<td style="text-align:right">1.115</td>
<td style="text-align:right">3.671</td>
<td style="text-align:right">12.008</td>
<td style="text-align:right">3.735</td>
<td style="text-align:right">12.307</td>
<td style="text-align:right">12.157</td>
<td style="text-align:right">11.045</td>
<td style="text-align:right">4.179</td>
<td style="text-align:right">18.215</td>
<td style="text-align:right">7.307</td>
<td style="text-align:right">17.28</td>
<td style="text-align:right">7.383</td>
<td style="text-align:right">2.056</td>
<td style="text-align:right">27.561</td>
<td style="text-align:right">41.679</td>
<td style="text-align:right">3.816</td>
<td style="text-align:right">6.994</td>
</tr>
<tr>
<td style="text-align:right">2</td>
<td style="text-align:right">4</td>
<td style="text-align:right">22.938</td>
<td style="text-align:right">13.941</td>
<td style="text-align:right">81.42</td>
<td style="text-align:right">21.579</td>
<td style="text-align:right">5.41</td>
<td style="text-align:right">9.857</td>
<td style="text-align:right">13.642</td>
<td style="text-align:right">14.422</td>
<td style="text-align:right">16.672</td>
<td style="text-align:right">36.755</td>
<td style="text-align:right">42.189</td>
<td style="text-align:right">17.823</td>
<td style="text-align:right">8.742</td>
<td style="text-align:right">20.371</td>
<td style="text-align:right">12.414</td>
<td style="text-align:right">20.368</td>
<td style="text-align:right">15.031</td>
<td style="text-align:right">18.836</td>
<td style="text-align:right">15.535</td>
<td style="text-align:right">3.614</td>
<td style="text-align:right">13.246</td>
<td style="text-align:right">4.64</td>
<td style="text-align:right">23.625</td>
<td style="text-align:right">13.159</td>
<td style="text-align:right">49.022</td>
<td style="text-align:right">44.062</td>
<td style="text-align:right">23.184</td>
<td style="text-align:right">15.562</td>
<td style="text-align:right">7.82</td>
<td style="text-align:right">19.547</td>
<td style="text-align:right">23.16</td>
<td style="text-align:right">30.782</td>
<td style="text-align:right">17.573</td>
<td style="text-align:right">31.105</td>
<td style="text-align:right">50.289</td>
<td style="text-align:right">3.798</td>
<td style="text-align:right">16.024</td>
<td style="text-align:right">4.203</td>
<td style="text-align:right">13.754</td>
<td style="text-align:right">18.941</td>
<td style="text-align:right">25.104</td>
<td style="text-align:right">25.906</td>
<td style="text-align:right">50.987</td>
<td style="text-align:right">36.556</td>
<td style="text-align:right">12.653</td>
<td style="text-align:right">40.189</td>
<td style="text-align:right">28.196</td>
<td style="text-align:right">14.98</td>
<td style="text-align:right">20.615</td>
<td style="text-align:right">33.157</td>
<td style="text-align:right">24.692</td>
<td style="text-align:right">21.14</td>
<td style="text-align:right">18.301</td>
<td style="text-align:right">11.646</td>
<td style="text-align:right">32.98</td>
<td style="text-align:right">14.338</td>
<td style="text-align:right">6.791</td>
<td style="text-align:right">18.613</td>
<td style="text-align:right">8.52</td>
<td style="text-align:right">31.369</td>
<td style="text-align:right">23.359</td>
<td style="text-align:right">6.022</td>
<td style="text-align:right">2.82</td>
<td style="text-align:right">6.986</td>
<td style="text-align:right">22.005</td>
<td style="text-align:right">23.624</td>
<td style="text-align:right">6.034</td>
<td style="text-align:right">1.418</td>
<td style="text-align:right">20.523</td>
<td style="text-align:right">13.947</td>
<td style="text-align:right">11.756</td>
<td style="text-align:right">43.623</td>
<td style="text-align:right">80.777</td>
<td style="text-align:right">15.209</td>
<td style="text-align:right">2.846</td>
<td style="text-align:right">6</td>
<td style="text-align:right">15.331</td>
<td style="text-align:right">11.741</td>
<td style="text-align:right">21.113</td>
<td style="text-align:right">10.529</td>
<td style="text-align:right">14.4</td>
<td style="text-align:right">8.578</td>
<td style="text-align:right">15.43</td>
<td style="text-align:right">4.171</td>
<td style="text-align:right">25.491</td>
<td style="text-align:right">6.243</td>
<td style="text-align:right">0.745</td>
<td style="text-align:right">2.386</td>
<td style="text-align:right">3.217</td>
<td style="text-align:right">2.791</td>
<td style="text-align:right">6.689</td>
<td style="text-align:right">5.775</td>
<td style="text-align:right">5.35</td>
<td style="text-align:right">4.139</td>
<td style="text-align:right">8.47</td>
<td style="text-align:right">13.114</td>
<td style="text-align:right">11.333</td>
<td style="text-align:right">2.758</td>
<td style="text-align:right">6.515</td>
<td style="text-align:right">11.45</td>
<td style="text-align:right">9.275</td>
<td style="text-align:right">2.354</td>
<td style="text-align:right">40.311</td>
<td style="text-align:right">11.358</td>
<td style="text-align:right">8.615</td>
<td style="text-align:right">2.858</td>
<td style="text-align:right">2.818</td>
<td style="text-align:right">6.747</td>
<td style="text-align:right">6.591</td>
<td style="text-align:right">4.316</td>
<td style="text-align:right">2.173</td>
<td style="text-align:right">2.959</td>
<td style="text-align:right">11.822</td>
<td style="text-align:right">11.904</td>
<td style="text-align:right">4.558</td>
<td style="text-align:right">22.492</td>
<td style="text-align:right">3.313</td>
<td style="text-align:right">1.335</td>
<td style="text-align:right">5.819</td>
<td style="text-align:right">3.896</td>
<td style="text-align:right">3.69</td>
<td style="text-align:right">9.771</td>
<td style="text-align:right">10.027</td>
<td style="text-align:right">2.282</td>
<td style="text-align:right">0.813</td>
<td style="text-align:right">5.769</td>
<td style="text-align:right">2.367</td>
<td style="text-align:right">10.986</td>
<td style="text-align:right">1.943</td>
<td style="text-align:right">4.317</td>
<td style="text-align:right">3.32</td>
<td style="text-align:right">5.56</td>
<td style="text-align:right">8.638</td>
<td style="text-align:right">0.83</td>
<td style="text-align:right">2.032</td>
<td style="text-align:right">1</td>
<td style="text-align:right">3.933</td>
<td style="text-align:right">11.231</td>
<td style="text-align:right">3.534</td>
<td style="text-align:right">14.448</td>
<td style="text-align:right">11.857</td>
<td style="text-align:right">7.908</td>
<td style="text-align:right">3.982</td>
<td style="text-align:right">19.623</td>
<td style="text-align:right">7.675</td>
<td style="text-align:right">16.628</td>
<td style="text-align:right">7.272</td>
<td style="text-align:right">2.002</td>
<td style="text-align:right">23.3</td>
<td style="text-align:right">41.452</td>
<td style="text-align:right">3.906</td>
<td style="text-align:right">7.85</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:right">5</td>
<td style="text-align:right">20.889</td>
<td style="text-align:right">12.441</td>
<td style="text-align:right">81.222</td>
<td style="text-align:right">20.25</td>
<td style="text-align:right">5.081</td>
<td style="text-align:right">11.525</td>
<td style="text-align:right">12.387</td>
<td style="text-align:right">13.078</td>
<td style="text-align:right">16.708</td>
<td style="text-align:right">36.005</td>
<td style="text-align:right">43.322</td>
<td style="text-align:right">18.191</td>
<td style="text-align:right">8.457</td>
<td style="text-align:right">20.146</td>
<td style="text-align:right">13.188</td>
<td style="text-align:right">19.511</td>
<td style="text-align:right">14.888</td>
<td style="text-align:right">18.262</td>
<td style="text-align:right">15.401</td>
<td style="text-align:right">3.946</td>
<td style="text-align:right">13.002</td>
<td style="text-align:right">3.573</td>
<td style="text-align:right">18.932</td>
<td style="text-align:right">12.759</td>
<td style="text-align:right">50.234</td>
<td style="text-align:right">41.34</td>
<td style="text-align:right">23.786</td>
<td style="text-align:right">9.233</td>
<td style="text-align:right">6.975</td>
<td style="text-align:right">19.435</td>
<td style="text-align:right">23.023</td>
<td style="text-align:right">27.475</td>
<td style="text-align:right">16.595</td>
<td style="text-align:right">28.741</td>
<td style="text-align:right">54.258</td>
<td style="text-align:right">4.17</td>
<td style="text-align:right">17.441</td>
<td style="text-align:right">4.819</td>
<td style="text-align:right">14.448</td>
<td style="text-align:right">20.308</td>
<td style="text-align:right">25.515</td>
<td style="text-align:right">37.709</td>
<td style="text-align:right">51.115</td>
<td style="text-align:right">34.365</td>
<td style="text-align:right">16.798</td>
<td style="text-align:right">34.206</td>
<td style="text-align:right">28.043</td>
<td style="text-align:right">15.964</td>
<td style="text-align:right">21.641</td>
<td style="text-align:right">34.325</td>
<td style="text-align:right">25.546</td>
<td style="text-align:right">22.569</td>
<td style="text-align:right">22.824</td>
<td style="text-align:right">29.187</td>
<td style="text-align:right">25.185</td>
<td style="text-align:right">13.911</td>
<td style="text-align:right">4.314</td>
<td style="text-align:right">17.976</td>
<td style="text-align:right">9.276</td>
<td style="text-align:right">29.437</td>
<td style="text-align:right">22.496</td>
<td style="text-align:right">6.233</td>
<td style="text-align:right">3.011</td>
<td style="text-align:right">7.956</td>
<td style="text-align:right">18.768</td>
<td style="text-align:right">21.349</td>
<td style="text-align:right">4.718</td>
<td style="text-align:right">1.138</td>
<td style="text-align:right">20.24</td>
<td style="text-align:right">14.065</td>
<td style="text-align:right">11.81</td>
<td style="text-align:right">43.708</td>
<td style="text-align:right">81.537</td>
<td style="text-align:right">15.271</td>
<td style="text-align:right">3.692</td>
<td style="text-align:right">6.439</td>
<td style="text-align:right">11.275</td>
<td style="text-align:right">9.536</td>
<td style="text-align:right">21.072</td>
<td style="text-align:right">11.529</td>
<td style="text-align:right">12.211</td>
<td style="text-align:right">8.117</td>
<td style="text-align:right">17.596</td>
<td style="text-align:right">5.169</td>
<td style="text-align:right">26.095</td>
<td style="text-align:right">6.788</td>
<td style="text-align:right">0.879</td>
<td style="text-align:right">3.225</td>
<td style="text-align:right">3.495</td>
<td style="text-align:right">2.627</td>
<td style="text-align:right">5.854</td>
<td style="text-align:right">5.248</td>
<td style="text-align:right">4.984</td>
<td style="text-align:right">4.253</td>
<td style="text-align:right">8.541</td>
<td style="text-align:right">12.895</td>
<td style="text-align:right">11.912</td>
<td style="text-align:right">2.357</td>
<td style="text-align:right">5.085</td>
<td style="text-align:right">8.408</td>
<td style="text-align:right">13.811</td>
<td style="text-align:right">1.591</td>
<td style="text-align:right">39.343</td>
<td style="text-align:right">11.265</td>
<td style="text-align:right">12.611</td>
<td style="text-align:right">2.801</td>
<td style="text-align:right">4.18</td>
<td style="text-align:right">7.086</td>
<td style="text-align:right">6.418</td>
<td style="text-align:right">4.321</td>
<td style="text-align:right">3.928</td>
<td style="text-align:right">3.797</td>
<td style="text-align:right">16.494</td>
<td style="text-align:right">11.794</td>
<td style="text-align:right">4.77</td>
<td style="text-align:right">16.438</td>
<td style="text-align:right">2.747</td>
<td style="text-align:right">0.815</td>
<td style="text-align:right">5.681</td>
<td style="text-align:right">3.866</td>
<td style="text-align:right">3.916</td>
<td style="text-align:right">9.174</td>
<td style="text-align:right">10.751</td>
<td style="text-align:right">4.593</td>
<td style="text-align:right">1.064</td>
<td style="text-align:right">6.226</td>
<td style="text-align:right">2.389</td>
<td style="text-align:right">8.443</td>
<td style="text-align:right">2.089</td>
<td style="text-align:right">4.551</td>
<td style="text-align:right">3.39</td>
<td style="text-align:right">5.217</td>
<td style="text-align:right">8.226</td>
<td style="text-align:right">1.135</td>
<td style="text-align:right">1.486</td>
<td style="text-align:right">1.592</td>
<td style="text-align:right">3.765</td>
<td style="text-align:right">11.472</td>
<td style="text-align:right">2.677</td>
<td style="text-align:right">14.847</td>
<td style="text-align:right">12.522</td>
<td style="text-align:right">8.995</td>
<td style="text-align:right">4.201</td>
<td style="text-align:right">19.561</td>
<td style="text-align:right">5.383</td>
<td style="text-align:right">20.522</td>
<td style="text-align:right">7.516</td>
<td style="text-align:right">1.527</td>
<td style="text-align:right">19.236</td>
<td style="text-align:right">46.553</td>
<td style="text-align:right">4.277</td>
<td style="text-align:right">7.748</td>
</tr>
<tr>
<td style="text-align:right">4</td>
<td style="text-align:right">6</td>
<td style="text-align:right">21.691</td>
<td style="text-align:right">14.711</td>
<td style="text-align:right">81.017</td>
<td style="text-align:right">21.015</td>
<td style="text-align:right">5.553</td>
<td style="text-align:right">11.386</td>
<td style="text-align:right">17.477</td>
<td style="text-align:right">13.776</td>
<td style="text-align:right">16.634</td>
<td style="text-align:right">36.942</td>
<td style="text-align:right">42.03</td>
<td style="text-align:right">18.863</td>
<td style="text-align:right">8.603</td>
<td style="text-align:right">19.629</td>
<td style="text-align:right">13.885</td>
<td style="text-align:right">19.031</td>
<td style="text-align:right">19.595</td>
<td style="text-align:right">19.676</td>
<td style="text-align:right">15.528</td>
<td style="text-align:right">4.066</td>
<td style="text-align:right">14.426</td>
<td style="text-align:right">4.07</td>
<td style="text-align:right">22.118</td>
<td style="text-align:right">12.436</td>
<td style="text-align:right">50.539</td>
<td style="text-align:right">42.4</td>
<td style="text-align:right">23.164</td>
<td style="text-align:right">15.014</td>
<td style="text-align:right">8.122</td>
<td style="text-align:right">18.742</td>
<td style="text-align:right">22.986</td>
<td style="text-align:right">28.414</td>
<td style="text-align:right">18.06</td>
<td style="text-align:right">28.311</td>
<td style="text-align:right">50.209</td>
<td style="text-align:right">4.213</td>
<td style="text-align:right">14.686</td>
<td style="text-align:right">5.397</td>
<td style="text-align:right">17.018</td>
<td style="text-align:right">19.74</td>
<td style="text-align:right">24.293</td>
<td style="text-align:right">23.319</td>
<td style="text-align:right">31.575</td>
<td style="text-align:right">40.299</td>
<td style="text-align:right">14.855</td>
<td style="text-align:right">32.047</td>
<td style="text-align:right">29.106</td>
<td style="text-align:right">14.938</td>
<td style="text-align:right">14.835</td>
<td style="text-align:right">32.504</td>
<td style="text-align:right">25.384</td>
<td style="text-align:right">21.501</td>
<td style="text-align:right">22.106</td>
<td style="text-align:right">9.479</td>
<td style="text-align:right">23.376</td>
<td style="text-align:right">14.137</td>
<td style="text-align:right">6.36</td>
<td style="text-align:right">18.019</td>
<td style="text-align:right">9.125</td>
<td style="text-align:right">29.301</td>
<td style="text-align:right">22.136</td>
<td style="text-align:right">5.914</td>
<td style="text-align:right">3.18</td>
<td style="text-align:right">6.694</td>
<td style="text-align:right">13.165</td>
<td style="text-align:right">21.07</td>
<td style="text-align:right">5.481</td>
<td style="text-align:right">1.284</td>
<td style="text-align:right">19.299</td>
<td style="text-align:right">19.054</td>
<td style="text-align:right">14.044</td>
<td style="text-align:right">43.553</td>
<td style="text-align:right">80.785</td>
<td style="text-align:right">15.33</td>
<td style="text-align:right">2.736</td>
<td style="text-align:right">5.979</td>
<td style="text-align:right">11.511</td>
<td style="text-align:right">9.841</td>
<td style="text-align:right">21.478</td>
<td style="text-align:right">11.151</td>
<td style="text-align:right">10.596</td>
<td style="text-align:right">7.859</td>
<td style="text-align:right">15.193</td>
<td style="text-align:right">4.594</td>
<td style="text-align:right">20.486</td>
<td style="text-align:right">8.331</td>
<td style="text-align:right">0.751</td>
<td style="text-align:right">2.828</td>
<td style="text-align:right">3.098</td>
<td style="text-align:right">3.185</td>
<td style="text-align:right">6.886</td>
<td style="text-align:right">5.425</td>
<td style="text-align:right">5.854</td>
<td style="text-align:right">3.98</td>
<td style="text-align:right">8.026</td>
<td style="text-align:right">13.825</td>
<td style="text-align:right">13.499</td>
<td style="text-align:right">2.406</td>
<td style="text-align:right">4.373</td>
<td style="text-align:right">7.558</td>
<td style="text-align:right">7.326</td>
<td style="text-align:right">2.463</td>
<td style="text-align:right">39.82</td>
<td style="text-align:right">10.4</td>
<td style="text-align:right">10.677</td>
<td style="text-align:right">2.75</td>
<td style="text-align:right">5.006</td>
<td style="text-align:right">7.67</td>
<td style="text-align:right">6.357</td>
<td style="text-align:right">3.805</td>
<td style="text-align:right">2.748</td>
<td style="text-align:right">3.175</td>
<td style="text-align:right">12.356</td>
<td style="text-align:right">12.252</td>
<td style="text-align:right">5.103</td>
<td style="text-align:right">15.511</td>
<td style="text-align:right">3.082</td>
<td style="text-align:right">0.905</td>
<td style="text-align:right">5.66</td>
<td style="text-align:right">5.07</td>
<td style="text-align:right">4.841</td>
<td style="text-align:right">7.925</td>
<td style="text-align:right">9.645</td>
<td style="text-align:right">2.562</td>
<td style="text-align:right">0.98</td>
<td style="text-align:right">5.865</td>
<td style="text-align:right">2.541</td>
<td style="text-align:right">7.457</td>
<td style="text-align:right">1.893</td>
<td style="text-align:right">4.04</td>
<td style="text-align:right">3.15</td>
<td style="text-align:right">5.425</td>
<td style="text-align:right">9.489</td>
<td style="text-align:right">1.224</td>
<td style="text-align:right">1.491</td>
<td style="text-align:right">1.268</td>
<td style="text-align:right">4.267</td>
<td style="text-align:right">10.709</td>
<td style="text-align:right">2.42</td>
<td style="text-align:right">13.957</td>
<td style="text-align:right">12.126</td>
<td style="text-align:right">9.518</td>
<td style="text-align:right">3.926</td>
<td style="text-align:right">19.548</td>
<td style="text-align:right">5.114</td>
<td style="text-align:right">18.126</td>
<td style="text-align:right">7.079</td>
<td style="text-align:right">1.802</td>
<td style="text-align:right">23.3</td>
<td style="text-align:right">45.417</td>
<td style="text-align:right">4.044</td>
<td style="text-align:right">7.735</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note: you want to be super careful about loading your files and looking at them first.
These files don't have a header, and sometimes they have numbered rows like this one.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">load_args</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;header&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;index_col&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="c1"># df, fname = load_data(&quot;../data/01_raw/E Green.xlsx&quot;, load_args)</span>
<span class="n">df</span><span class="p">,</span> <span class="n">fname</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s2">&quot;./data/01_raw/E Green.xlsx&quot;</span><span class="p">,</span> <span class="n">load_args</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Vitrocal</code> is organized into three distinct modules for data analysis:
* <code>vitrocal.preprocessors</code>
* <code>vitrocal.detectors</code>
* <code>vitrocal.analyzers</code></p>
<p>You'll want to explore the parameter space for each of these individually and assess
the impacts different parameter combinations have on your data.</p>
<p>See <a href="https://ajbarrow.w3.uvm.edu/assets/public_share/vitrocal_docs/api/">the documentation</a> for details.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="preprocess">Preprocess</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># change these</span>
<span class="n">fps</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mf">2.5</span>
<span class="n">bleach_period</span> <span class="o">=</span> <span class="mi">60</span>
<span class="n">filter_frequency</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">baseline_threshold</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># percent</span>
<span class="n">preprocess_window_size</span> <span class="o">=</span> <span class="mi">60</span> <span class="c1"># seconds</span>

<span class="c1"># instantiate the StandardPreprocess object with these parameters</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">StandardPreprocessor</span><span class="p">(</span>
        <span class="n">frames_per_second</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.5</span><span class="p">,</span>
        <span class="n">bleach_period</span><span class="o">=</span><span class="n">bleach_period</span><span class="p">,</span>
        <span class="n">filter_frequency</span><span class="o">=</span><span class="n">filter_frequency</span><span class="p">,</span>
        <span class="n">baseline_threshold</span><span class="o">=</span><span class="n">baseline_threshold</span><span class="p">,</span>
        <span class="n">window_size</span><span class="o">=</span><span class="n">preprocess_window_size</span>
<span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># call the object&#39;s `preprocess` method</span>
<span class="c1"># see the documentation for other methods available</span>

<span class="n">processed</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">preprocess</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>No filter applied.
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="detect-and-extract">Detect and Extract</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># change this</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># percent</span>
<span class="n">detector</span> <span class="o">=</span> <span class="n">DerivativeDetector</span><span class="p">(</span><span class="n">threshold</span><span class="p">)</span>

<span class="n">detected</span> <span class="o">=</span> <span class="n">detector</span><span class="o">.</span><span class="n">detect</span><span class="p">(</span><span class="n">processed</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="extract">Extract</h2>
<p>Note: the <code>StandardExtractor</code> class has a <code>detect_and_extract</code> method</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># change these</span>
<span class="n">window</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span> <span class="c1"># seconds before and after</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1"># percent</span>

<span class="n">extractor</span> <span class="o">=</span> <span class="n">StandardExtractor</span><span class="p">(</span>
    <span class="n">window</span><span class="o">=</span><span class="n">window</span><span class="p">,</span>
    <span class="n">frames_per_second</span><span class="o">=</span><span class="n">fps</span><span class="p">,</span> <span class="c1"># defined above</span>
    <span class="n">threshold</span><span class="o">=</span><span class="n">threshold</span>
<span class="p">)</span>

<span class="n">events</span> <span class="o">=</span> <span class="n">extractor</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">processed</span><span class="p">,</span> <span class="n">detected</span><span class="p">)</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>
<code>With FPS = 0.4, a window of (3, 30) seconds captures 1 frame(s) before and 12 frame(s) after each event.
</code>
</pre>
</div>
</div>
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>/Users/tony/Documents/phd/projects/other/vitrocal/vitrocal/detectors.py:137: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  identified[identified is False] = np.NaN # non-events
</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note: this method returns events as a Python dictionary. You can examine individual events, if you like:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">roi</span> <span class="o">=</span> <span class="mi">2</span>
<span class="c1"># events[roi]</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="analyze">Analyze</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># change these</span>
<span class="n">upper_decay_bound</span> <span class="o">=</span> <span class="mf">0.8</span> <span class="c1"># proportion</span>
<span class="n">lower_decay_bound</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="c1"># proportion</span>

<span class="n">analyzer</span> <span class="o">=</span> <span class="n">StandardAnalyzer</span><span class="p">(</span>
    <span class="n">upper_decay_bound</span><span class="o">=</span><span class="n">upper_decay_bound</span><span class="p">,</span>
    <span class="n">lower_decay_bound</span><span class="o">=</span><span class="n">lower_decay_bound</span>
<span class="p">)</span>

<span class="n">result</span><span class="p">,</span> <span class="n">avg_result</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span><span class="n">events</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">result</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">roi</th>
<th style="text-align:right">event</th>
<th style="text-align:right">peak</th>
<th style="text-align:right">upper</th>
<th style="text-align:right">lower</th>
<th style="text-align:right">decay</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0</td>
<td style="text-align:right">2</td>
<td style="text-align:right">1</td>
<td style="text-align:right">27.2195</td>
<td style="text-align:right">21.2979</td>
<td style="text-align:right">2.42369</td>
<td style="text-align:right">18.8742</td>
</tr>
<tr>
<td style="text-align:right">0</td>
<td style="text-align:right">5</td>
<td style="text-align:right">1</td>
<td style="text-align:right">21.8511</td>
<td style="text-align:right">6.71749</td>
<td style="text-align:right">-3.25337</td>
<td style="text-align:right">9.97087</td>
</tr>
<tr>
<td style="text-align:right">1</td>
<td style="text-align:right">5</td>
<td style="text-align:right">2</td>
<td style="text-align:right">38.5962</td>
<td style="text-align:right">15.0923</td>
<td style="text-align:right">1.50109</td>
<td style="text-align:right">13.5912</td>
</tr>
<tr>
<td style="text-align:right">2</td>
<td style="text-align:right">5</td>
<td style="text-align:right">3</td>
<td style="text-align:right">37.8041</td>
<td style="text-align:right">21.5407</td>
<td style="text-align:right">1.03699</td>
<td style="text-align:right">20.5037</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:right">5</td>
<td style="text-align:right">4</td>
<td style="text-align:right">28.5376</td>
<td style="text-align:right">17.3164</td>
<td style="text-align:right">nan</td>
<td style="text-align:right">nan</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">avg_result</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">roi</th>
<th style="text-align:right">total_events</th>
<th style="text-align:right">average_peak</th>
<th style="text-align:right">average_decay</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0</td>
<td style="text-align:right">2</td>
<td style="text-align:right">1</td>
<td style="text-align:right">27.2195</td>
<td style="text-align:right">18.8742</td>
</tr>
<tr>
<td style="text-align:right">1</td>
<td style="text-align:right">5</td>
<td style="text-align:right">8</td>
<td style="text-align:right">35.1237</td>
<td style="text-align:right">14.3551</td>
</tr>
<tr>
<td style="text-align:right">2</td>
<td style="text-align:right">6</td>
<td style="text-align:right">20</td>
<td style="text-align:right">52.5964</td>
<td style="text-align:right">21.5584</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:right">7</td>
<td style="text-align:right">29</td>
<td style="text-align:right">67.1418</td>
<td style="text-align:right">30.6436</td>
</tr>
<tr>
<td style="text-align:right">4</td>
<td style="text-align:right">13</td>
<td style="text-align:right">6</td>
<td style="text-align:right">29.6881</td>
<td style="text-align:right">14.3257</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="n">global_average</span><span class="p">,</span> <span class="n">roi_average</span><span class="p">,</span> <span class="n">event_data</span> <span class="o">=</span> <span class="n">analyzer</span><span class="o">.</span><span class="n">find_average_event</span><span class="p">(</span><span class="n">events</span><span class="p">)</span>
<span class="n">global_average</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;./data/02_output/global_average.csv&quot;</span><span class="p">)</span>
<span class="n">roi_average</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;./data/02_output/roi_average.csv&quot;</span><span class="p">)</span>
<span class="n">event_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;./data/02_output/event_data.csv&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><pre><span></span><code><span class="c1"># save results</span>
<span class="c1"># pd.to_pickle(events, &quot;./data/02_output/demo_events.pkl&quot;) # python dictionary</span>
<span class="c1"># pd.to_pickle(analyzer, &quot;./data/02_output/demo_analyzer.pkl&quot;) # python object</span>
<span class="n">result</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;./data/02_output/demo_results.csv&quot;</span><span class="p">)</span>
<span class="n">avg_result</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;./data/02_output/demo_avg_results.csv&quot;</span><span class="p">)</span>
</code></pre></div>

</div>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Plotting/" class="btn btn-neutral float-right" title="Example Plotting">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/mpmbq2/vitrocal" class="fa fa-code-fork" style="color: #fcfcfc"> mpmbq2/vitrocal</a>
        </span>
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Plotting/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../config.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
